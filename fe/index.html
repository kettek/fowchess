<!DOCTYPE html>
<html>
<head>
  <script type='text/javascript'>
  // Silly function since hyperscript cannot fathom "%" or "&", even in inline js calls.
  function isOdd(n) {
    return n % 2
  }
  </script>
  <script type='text/hyperscript' src='dialog._hs'></script>
  <script type='text/hyperscript' src='game._hs'></script>
  <script type='text/hyperscript' src='board._hs'></script>
  <script type='text/hyperscript' src='tray._hs'></script>
  <script src='lib/_hyperscript/_hyperscript.min.js'></script>
  <script src='lib/_hyperscript/eventsource.js'></script>

  <link rel='stylesheet/less' type='text/css' href='styles.less'/>
  <script src='lib/less.min.js'></script>
<body>
  <menu>
    <button _='on click show #menu__game'>Game</button>
    <menu id='menu__game' _='init hide me end on mouseleave hide me'>
      <button _='on click game.showCreateDialog()'>Create Game</button>
      <button _='on click game.showJoinDialog()'>Join Game</button>
      <button _='on click game.leave()'>Leave Game</button>
    </menu>
  </menu>
  <div id='game' _='install Game()'>
    <div id='leftTray' _='install Tray()'></div>
    <div _='install Board(width: 8, height: 8)'></div>
    <div id='rightTray' _='install Tray()'></div>
  </div>
  <div id='sidebar'>
    <div id='tabs'>
      <button _='on click show <section/> in #tabsContent when its id is "gameslist"'>Games</button>
      <button _='on click show <section/> in #tabsContent when its id is "chat"'>Chat</button>
    </div>
    <div id='tabsContent'>
      <section id='gameslist'>
        TODO: list of games
      </section>
      <section id='chat' _="init hide">
        TODO: chat for current game?
      </section>
    </div>
  </div>
  <div id='AuthDialog'>
    Authorizing...
  </div>